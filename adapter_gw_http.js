//[author: jusbe]
//[title: adapter_gw_http]
//[language: nodejs]
//[class: 适配器]
//[service: Jusbe] 售后联系方式
//[disable: false] 禁用开关，true表示禁用，false表示可用
//[admin: false] 是否为管理员指令
//[priority: 1] 优先级，数字越大表示优先级越高
//[platform: all] 适用的平台
//[open_source: false]是否开源
//[icon: 图标url]图标连接地址，请使用48像素的正方形图标，支持http和https
//[version: 1.0.0]版本号
//[public: true] 是否发布？值为true或false，不设置则上传aut云时会自动设置为true，false时上传后不显示在市场中，但是搜索能搜索到，方便开发者测试
//[price: 2] 上架价格
//[description: 说明》 Gewechat 适配器, 仅适用于专版登录工具；<br>适配》 <br>适配器配参页权限<br>CQ码: 图文收发、文件发送、视频发送、@目标、音频发送（待测试）<br>可能适配的赞赏码收款（3.3.5待autman更新）<br>依赖》ws, async, axios, uuid, xml2js, fluent-ffmpeg, middleware.js(改版)<br><br>首发》250101]

var _0xodU='jsjiami.com.v7';const _0x73e986=_0x5957;function _0x3b55(){const _0x17a6a7=(function(){return[...[_0xodU,'KDjJMskjuXiIlaHmhyiEe.wtecRoInmRw.vHkT7r==','axdcRMyf','W4ddUb7dPrJcG8klW6pdOSkkWPHxWOvnWRuM','W6RdSvG','h8koW7C','WQD4WPBcQCkk','W7RcKmkYWRFcOG','WQrurYi','qSkwkKa/','j8ohzxS','WQPeW6tcIh1uv8kSaa','W6bYWOfH','WPymC3pdVdNdRCoRE+MaH+MfJUwAREw1V+wrGEwkOq','WQ3dOh8YW7a','WP/cUIRdSW','pSoTaIy','WOvGWRCyab7cG8k+WR3dSCkvlCo0g8kEW410WOPBlG','W71IWQykoa','W7NcReaWDa','W7ZdP3lcKW0','cWbSqSk8DrH6WPGlWPVdQX0jWQVdUq','bSkqWRPMlG','WORcJSkxwmoC','j8olC1NdQW','pgWnWRba','W5jGWR5zgqW','WPbUfM/cTSkYWR/cVSknWPuLWPmt','vcddNSks','WQXAva','W5PSWQayfG','WQfiW6hcQgG','hCk0WQtdLa','n0RcK1Oe','tmocjghdICoAmqH9bahcMwK','jLbQWQ0','WQ/dTf14W73dQgWqtmk/g8oqWOK','WOVcQSo/wL0','W7JdTtqulq','W4ZdGCk2AG','5P+L6ycD6yAu55M65zIq54Iv5QcI5B6mW7VdKCkBWQKNumovDq','dSkpzJ3cK8kfyrLN','WRhcTSoqy8k3','W5hcTWmMrW','WRtcSmoc','WQxdGCo0mSoY','W7xcQmkEWPtcSCkbmb8','WRJdG8oadq','ed10EZOdr8o6WQaVWRGmW7xdL8oHWPpdOG','pb/dH8k9nq','wmosWQBdVLC','W7tdTaqoottcUwm','WRHEWQJcHSkn','WPT4B8kIW5W','WOBdKgujW7P/gJf0WOuXs8kPW5lcKuGYbeOuofZdLxVdTSoOWR/dISoZ','j0nSWQpdNa','iSkCWQn9ea','WRZcVSortW','bbb8wSk4zJPaWPW','WQ7dL8odAXa5keKxswSpW6xcPblcUmkHumoYfSk8vuFdTbDKzbZcVq','xmkdnvOQW5FcLt4RW43dNCk4W44','W6ZcQCkoWOW','v8oEW7tdLmkD','W4ldRSkYxhG','WQ/MIO/MNzdKUkfI','W7zaWOxcVKa','W7VcPYeDsa','WRnbqsOgW6T4WRxcVq','5PYA5zUL5lIL6iwQ6lMp5RE55Ooq77+B6lEu6l+A','WQzDuCkFW58','W7lcQCkjWPhcOSkCfq1ukW','WRVdMmkFtmkReSk/W4PDW6SqcdS+WPOAW4xdJCoJWPtcHqC2WOKrgwS7W7NdTG','WQPqW7tcHI4u','WOhdQmokCrG','gCkszZxcN8koBsbUed7cUeCFWQu','W4JdRX/dUqS','emkaW6tdKI8','nSotEh4','WQfexYKc','WOVcQH/dMHa','wCobWQddSa','W6/cTSkrWPhcSa','WQZdUfPpW7BdOgWGBCkKbSowWO3dUv0LD8kHsCoHaNJcGCkSkW','sSkDh8kIBq','WQ5EW7xcJNLu','WPFcNtZdLbG','5PU85zo/kUEyNUAHOc4','WRldVH/dMCkQW5HLW5O','WOtdMmk0Aa','W6XzeCoFW4WYWQO','lun3WQVdH1a','WQ7dHCkDWOOs','W5HOWQiheHZcGq','jNBcSgq','WO7dR19OW4W','W5DcWPZcPM0','WPZdKMyWW4O','psiJDNi','WRnfxYOC','WR7cR8kjvSo6','WO7dH2qvW6K','WRhcI8kmA8or','WR9EW7xcHW','DSkumq','WR1KieZcQW','W6LYWODRW4Gc','W6hdU0S','56+h55gJ5zghcW','gCkozJxcICklzXe','WR3cUmkExCoTW6VdLa','auVcT1us','xColas8iqZCT','W5FcPbKYyaz+gqNPG7tPH77LMABLTyBLKA/LIRy','kSkPEr3cSW','W7ddV1pcSsO','u0eHW4RcJa','W6ddRfdcQrddSSkw','W4DOWQeyeHJcGCkeW6ldRSkjkSogp8kBW4y','WRqBDNNdRq','lmkkvJRcSCk/AhdcNYaWW5ddOCoyAmkklCkYWOlcH3i','wCofWPldKf0','krWyxMS','WPZdH38oW75EfHb+','W4JdNCk5zhWPW7W+oq','W4NdVbNdTW','W6NdRYmv','WPXPo0BcVW','W4iYvd7dRSo3WQdcMCkNWPa+WRSy','W7z9WR3cGua','56wb55sD576x6icjuG','WQddG8oSkCoY','5Rw+5OgT5O+g5Ps85728W7W','hmkxEa','gCkrW7OMsSoyju8L','WRFcSSkC','tSoqWRJdUfe','W6FdR1pcRIu','W7ldQqejmcFcRgi','WR3cOc/dUGq','oSk3WRnN','oCoTdI7cHa','amkvW6ldMcNdJuSPWR4','cWbSqSk8DrH6WPGlWPVdQWqfWR3dPh/cGmou','bSkkW68','dmkZW4xcPG','mM8iWPjY','FCkRWRv3W5Ljjq','hSkaW6tdKI8','j8ogAa','WOSXtLJdVa','fCkDubpcSW','pCk6WRHT','W6TLWP1/W4alW6mHaSoReaOyCmoxW4i','cZfJBtq','BCoSWQZdG0e','WRZcUSoJB8ky','WOaGCwpdRG','W6hdKg3cQae','WR7cTSojsW','mKrTWQtdSvpdICkpWQNcTJOHCG','gCkAydu','j8kJW6yvvq','pYqeW59B','WQBdRKLqW7S','dSklBqVcKSkm','WPhdRfGaW4G','WPtcKGNcOGW','WOVcRI3dUG','l8o3fsFcGG','5Pw05yIbpSknW5TkW4hcNCk0W7FMT5xMGkTY','ecTGqt8','W4/dKtCueq','WPFdHCkOWO4l','fGPV','vmkuney5','o8k+WOddQ10'],...(function(){return[...['hSknW60H','WQ1qqdajW6T0','W7ldSwZcSd3dSSkCWOq','ohFcOwWIW7qzAa','WOhdH8k2WOGn','l1rTWR/dJ1NdICkJWQRcUc4WbKnqW6T9W5hdQri','W4VdTahdSW','m8kkvsxcQCkhyeRcIdWMW5NdQmkn','5B+s5lYN6lEO6lAb','WONdKmk3WPqEWQ1EWROuW43dSSkkWPlcR8kRW4fg','WPJdGwqtW7v/fHPI','WRVcRCoat8kuAdtcGG7cKa','WRLnDYu7','WQxdJmoldmo2rG','W7ZcRGK','WQ9gtCkv','uCoxecWp','WPRdV3zvW5i','W6NdTs8w','WPdcPmoxDfD8vq','adKcDwi','W6b/WQpcH0y','emkTWRRdMhhdMq','q8kIjmk5Ca','wmklAe48','amkeW77dLq','r8ovdIOj','WQJdTuTnW7i','W5NdSGBdSXC','WPRcPSkxz0u','WQVcQ8oxr8koAGNcJrO','W5LVbNNcQ8kNW7xcVCoeWOG6WOuatGO/WOq','hSkli1O4W5hcLXzRW5NdH8kNW5/cSahcNaldRG','WOXIrCkYW4O','WQPgvSk9W7O','nteLEMG','FgCDW4W','gCkvW6qMua','hIVdMSku','WQvhqsWA','dmoOaX/cVW','kYqJCg7dLYtcNmoA','W7ldRfBcQq','qSoxWQpcG3BcMXqLWOZdISo4WRfD','6zAU6lgB57+s','6zYT55QC5zkD5y+K57+J','Amk+WRX6W4G','ab7dLmk+ma','WOtdH38DW7j2','F8kdp8ku','WOdcNSkQa8o+W7hdK8ocWRjZqKBdG8oXW4q','W6HOWQlcM1v9W7DosZKBr8oRWRf/bbC','aCkeW6ddNsBdIuC','W4dcUZtdQ0DrW44EWQixzSk9','FMWoWPvNhmkhwSk+WRhdJ8kyWRaisSkIW55A','WRfNfg/cU8kUW7pcRmolWQ8WWPqNBqa6WOOEFCknrs1XW6jr','WOvzWQ3cLCkd','E3SfW7BcTdhdICkvEmkR','W6ldJsJdMa','o24cWOG','WQZcNZFdIau','W7ldQWBdSW','WOldNmkOWOi','WQjgW6/cI04','WOZdO10uW7e','WPRcPCoABeD2re8','FmoQW64+AgxdVSoOW67dUmkrmW','W6pdRe3cQZ0','W4VdMmkHWPqmWQTCWObjW5JdQ8kwWO3cJmkpW55e','WQ3dVfa','W7RcPmoFzNvGtKKLWPe','WRiByxFdQZtdMmo2nMa','WRBcQXJcNXu','eCk1W5hcH8kl','W4DOWQeyeHJcGCkwW73dPCkpmSoL','tmkJpCkIwW','WONcVtBdTG','hCkYW7JdQYG','gcP1zYK','W7NcRW07DGP6hG','qCouWQJcHNxcN0SSWO/dKColWRm','hY1KyZ4qzCoaWQq','WQPGWRtcM0D7W7v0fdahqCovWR1SbZSkzmk/hq','gZ/dMSkQp8o7FmoJtNy','g8kYW5ZdVZ0','tmoIW7G','mSkFssdcPa','WPfZW5tcL3K','5PwC5yUvWQGiqCoikuO0WOCQD8oPsEA1SoAbSKhdMeKjoWKfWQr1WPT9WOVcI8oTga','fCksW4BcI8kI','W45SWQyk','WQyODw7dVa','mZeNsuW','5BA856wE55E+5Bcg6BQl5AYaWQ0','WQj6WQRcJCkpnxVdNmkNWP7cJSk0aLJcLc/cVq','W7BcQaiY','hJLZAZm','e8kOWQNdMNdcL8oRyg0','imouDhVdR8k/W6KCsmog','eZ1WrsGdA8ob','lZ8JFq','WPJcOcVdVW','WQ5dW6JcJKDozCkKeq','WRRcMSo7rNm','c8kvW44+xG','tCoOW6ZdS8kffSoAWPPiECkBFtq','oCoXfshcNJu3FSop','W7JcP8kjWPK','fY1jAZW','56AA55EM56sr6igzWOy','AmkTWQj2W5Lunr52WQJcVa','WRBcUmkisSoPW7/dKSo4WRSWvLJdJSoMWP3cGL81d0uFW6q','ftRdI8kB','eaLhF8k+','5P+C6yca6ysU55QoW6ZdV+A0MUAcT8ohW5G0WOyeBXa2W5u','v8oxWRZdUxm','kZXXzbm','WQJcVSorrG','WRtcRH/cGGSU','WQlcMmovywy','WPPEW7hcGNq','W53dVrxdSI5eW7eB','cmkqW6SKqColc0WO','kCo3aINcHdC','nCkmWO3dUe0','WOpcQSolC1C','5P+M6ykP6yEO55UN5zM654MK5QkX5B+Yx8o7wff5ASkahW','vmkjWQHLW7e','W4T/WQakcH3cKCk9W7tdPmki','WOZdUfL8W7ZdRgG7c8kAeCohWQRdKeWVF8kWsCobaNJcGCkSkW','WPldLmkOWPiA','B8kRWQnN','cYXZz8k8','WQ/dNCox','6BQS5zgv5y2s576S','kGBdLSkNoG','6z+055MW5zoF5yY+57+x','WRBdU8o7FtS','W6jOWQxcVL1+W7D+FYmAuSowWRvXdvicD8kQf8kUWR8','W6fmWR8dhq','rCkdnv0','W7ZcVqxcHWL4W4fzWOBdNq','l8kMuZRcKq','WPfJrWup','W4/dQa7dVrZcKmkPW5NdPG','W6VdRvJcJsS','W6vZWOjTW4y','W5xcGbywvq','jSkRW7pcMmkl','wCoaetaCqdCbE8oxW4dcT8k6Cqbv','AgSbW4xcPtpdNG','l1bQWQ/dHG','W7bHWOj5W4q','W7hdOIGCkZO','WQfVWOZcTmkR','tSoOW6JdJCkxfSo2WRm','W6jHWPPT','WR/cTG0','DCo+W5xdKSkE','W6XJWRlcHef+W7DI','e2jYWQ3dUG','WOldUubYW7q','WQ/cTCkEvW','iNuzWO96gSkjwCoO','W6RcHd4/uW','5PYw6islWRddKdldNK8UWQNcVEEyMEA1T+AbHowNQoErSUw+JEw5MSkx','a8oVitdcPW','hXSODwm','WR9dW67cL31MBCkLeq','dJbUBI8','WQrNiw7cOa','WRq6W6NdNezzW75WqWu','nCkaDJ3cOSkXy0G','fIpdGmkq','xmkviweIW4pcHbW2W5a','W5RcJczpWQ8GrGT4WOCsCmkd'],...(function(){return['imoraqVcLW','FmoSW6u/yMNcOSobW43dVmkpjsi','kGZdTmkSeq','WOldMCkRWOGn','WQJdTchdH8kwW6XyW4XuWPRdHa','WRddHSocCr85jgib','lSktW4tcGmkA','W53dVb/dPrZcT8kAW47dU8klWOW','W7foWOnrbrBcGmk+W73cRCkCn8oSm8ok','W4tdMhmjW6H5gbK0WOuRumkIWP7cNuG6iuuupfi','umktmNyUW5pcMbW','d8ksWPJdUgpcJgfE','5PEN5yMzjfFdQIxdOCo+nsxMTOVMGQRcTW','hSkkW4eCA8oSofS1WOG5','fmkfW7VcT8kG','WOFdMNe','W6pcTrW+BqL2c1a','5Bsb56wk55Ar56Eb6ig4','WQdcRrJcMqLZW4DEWPS','W6ldUSkjBfu','gmkjzJVcJW','W4RdLgxcLJW','lSoWfsNcHdSXDG','FmosgW','xCk4WQrxW5a','hmk4WRNdGNtcHmoj','WQNdMCoxdmo2','W7hcO8koWOVcPCkcmdnEkcPlhSoIqbDXyq','W77cTam1zHW','WQizAh/dQW','DgSgW6tcTZFdSSkq','W6TOWRpcPNe','lfvgWORdGa','iCkTWR9UmZ4','oSoWfca','W74DAwBcScldUmo+l2XGW6O','WPpcUGlcKrnMW4fxWO8','WRJdUHZdTq','W5L9WR4cbW','WOhcM8kHs8oF','W7FdNahdVZ0','FCoMnc0o','WOHDWRBcK8kz','WPjpqHKC','o3ydWO5c','WQugu27dTJu','WQj6WQRcJCkpnxVdNmkNWP7cJSk0hvRcNcVcVq','5lMa5lMF6BMz5zgc5y2XWOu','gmkdvWlcQq','WOSJA3VdKG','W6bPWOjP','W4LIWRWFfHhcKa','W69oWOlcUhe','WOpcSH3dUGZcG8khW5lcVCksWO5bW6zqWRy9emkwW7BdIufmia','5P2P6ykK6ywC55QE5Rst5Ok1WOC','W7OcWRtdLsazmCkdh8ojWQnOW4i','WQT+WQ3cNW','gSkNW7NcUSkB','WOVcOJVdMbG','W47dPYtdTX0','hCkYWQ0','aGrRua','f8kaW6tdKa','WR7cVbNcGWzZW4TNWPlcNxBcJSkTWQZdKSoyW7/cKq','WOvACaGP','zCkflwqa','W4VdLgJcQWC','WR3dSviZW7K','WRNcTGpcNG','WOpMIA/MNkRKUyRcPW','zCoOaJVcGZm5FCkzomouFGxcMghdI8oIW7a','WQFdSKK','s33cLSoblmoBzmoRwuS','WOpcNmo0fmkwzatcJGZdMCokW5tcRCovWRq','vmonW7RdTLi','WQpdKmkZWOiCWQjAWPfg6ykQ6yEj5zQn5Bsl5zoL5yMo','WPddH8kTWOO','ngVcSg8L','W7NcTmkpWPFcTG','WRNdQrRdU8kR','v8oKWOFdLhe','WOxdVgajW5O','W6fSWQxcIq','WPJdMx8zW74','WQj6WQRcJCkpnxVdNmkNWP7cJSk0h1dcJtW','WRJdVbJdTCki','F8kjjmkprq','WRbktCku','eG16xW','cWbSqSk8DrH6WPGlWPVdQWWbWRZdP1C','imklWR7dT3i','nhmzWOLM','WQpdNMnGW5a','pmoXnX/cGq','6zY055Qy5zkf5yYA576aWOu','WRnauW','m3qiWO1XcCkNwSoL','yg8CW6dcNq','WQDov8kr','WO7cGZFdVWu','v8kimCk0tH8h','BSkcqdRcO8k5AKRdLd8OW43dUCo5AmkdaCkCWOlcKNm','l8kjW7RcQCkD','W7ddSe/cNbu','C8owhxJdP8kmEulcUbO0','g8ksEde','ntuIAMhdLYJcT8omWOBdM8kKiG','WQzxsSke','o0i4WRzr','WRxcG8okBNG','WOFdUCkWWPa4','b8kjW7xdNW','oSk6WQv9','aSkPWRJdMhVcHmofy2a','WRbBuCkzW4mLWQOTka','s8ojWRFdMui','W5NdSGBdSXFdNG','ps/dMCkqpCoWACo+au8FW67cRXzjlbKJW74Qimk7yxqWWQK','W4/dMSkOygS','a1BcJ04o','WQxdM8oCFq','WOXhm2lcIa','C8oafsyEtZmQk8oxW53dRCkrFr9dxLmvaW','kZHaWP/dTWhdKCkBqSk0W7q','W6XGW7/cJ0m','A8k7WQn7','WOeyuK/dLG','WOrgWRRcH8kN','W5RcK8kuWRdcRW','W4VdJYSSmq','n8kPzWlcMG','W6xdP8kUyKG','emoVw2pdJa','5BEP56wp55E45BcC6BMT5A2QFa','sCkbWP1DW6u','W7ZcTa/cGXr1W4LDW43cGMRcICkyWPNdJ8o6W6BcNW','WPr3aghcVCkYW5xcVCkF','WOqWCvddNa','zCobWQpdM08','qSoedJyy','WQPTWQVcKCkC','WQXbW7FcQMi','W5ZcR8owD1X+tL0XW40','WQ1bmJdcVSkVW77cVCohWP48WPOrpW','WPFdS8oJCYe','jCkousG','WQrnlKtcGq','eCkJW4xcVCkokIb8oConWRddPCodDCoNWPdcJG','5BEd56wN55wU56EO6icb','W4fhWRxcGM4','idb2ECk2','WRDhrSkE','nJKr','W6rcWQBcMMy','smotWQddN0W','pcqzW51Ss18uD8kQWO4','W6pcOHC/va','rmoOW7pdPCkqfmoGWRPcBSkDCdBcPSkm','W5VdV27cR14tWOG+WPOwBSoFW5G','FSk8WQj8W44','mcFdUSkfcW','WRjAusWCWRy','CguPW6xcOW','WQ3dN8kcWP8O','WQXqW7pcGG','WOpdKmkWWRewWQ5EWOOGW4hdTSkwWO3cJmkuW5nmnSoOWPFcPSo7dSkpBq','WQFcVbNcHa','WRqWW549','u8kxnxGN','WOBdKgujW7P/gInRWO43u8kAWP3cM0O7','WRTct8ocW4CXWQWLCEILKUADMowKSUI0T8kz','WRrxsSku','WR9jWQRcKx1dyCkGaSoKWO8FW5ZcRtRdHgZcKCk3fa','AxOdW4dcQJFdKSksBa'];}())];}())];}());_0x3b55=function(){return _0x17a6a7;};return _0x3b55();};(function(_0x505e4c,_0x2c762f,_0x3ec1dd,_0x1a13e5,_0x14ccca,_0x4b990c,_0x2a889e){return _0x505e4c=_0x505e4c>>0x7,_0x4b990c='hs',_0x2a889e='hs',function(_0x2e4088,_0x22ce1a,_0x3d8806,_0x2afda9,_0x4d0a1b){const _0x28d2bc=_0x5957;_0x2afda9='tfi',_0x4b990c=_0x2afda9+_0x4b990c,_0x4d0a1b='up',_0x2a889e+=_0x4d0a1b,_0x4b990c=_0x3d8806(_0x4b990c),_0x2a889e=_0x3d8806(_0x2a889e),_0x3d8806=0x0;const _0x3800cb=_0x2e4088();while(!![]&&--_0x1a13e5+_0x22ce1a){try{_0x2afda9=parseInt(_0x28d2bc(0xc6,'cNKn'))/0x1+-parseInt(_0x28d2bc(0xef,'Qhbw'))/0x2*(-parseInt(_0x28d2bc(0x18e,'OonV'))/0x3)+-parseInt(_0x28d2bc(0xa1,'cNKn'))/0x4+-parseInt(_0x28d2bc(0x127,'i4gX'))/0x5+parseInt(_0x28d2bc(0x1c4,'Qhbw'))/0x6+-parseInt(_0x28d2bc(0x1a1,'Id6r'))/0x7*(-parseInt(_0x28d2bc(0x121,'mNs$'))/0x8)+-parseInt(_0x28d2bc(0x125,'CGWI'))/0x9;}catch(_0x1d34ec){_0x2afda9=_0x3d8806;}finally{_0x4d0a1b=_0x3800cb[_0x4b990c]();if(_0x505e4c<=_0x1a13e5)_0x3d8806?_0x14ccca?_0x2afda9=_0x4d0a1b:_0x14ccca=_0x4d0a1b:_0x3d8806=_0x4d0a1b;else{if(_0x3d8806==_0x14ccca['replace'](/[MJyEnTDKlhIreXtwHuRk=]/g,'')){if(_0x2afda9===_0x22ce1a){_0x3800cb['un'+_0x4b990c](_0x4d0a1b);break;}_0x3800cb[_0x2a889e](_0x4d0a1b);}}}}}(_0x3ec1dd,_0x2c762f,function(_0x212990,_0x5750d3,_0x52850f,_0x53a677,_0x1bd0df,_0x37be2f,_0x155d7d){return _0x5750d3='\x73\x70\x6c\x69\x74',_0x212990=arguments[0x0],_0x212990=_0x212990[_0x5750d3](''),_0x52850f=`\x72\x65\x76\x65\x72\x73\x65`,_0x212990=_0x212990[_0x52850f]('\x76'),_0x53a677=`\x6a\x6f\x69\x6e`,(0x193b19,_0x212990[_0x53a677](''));});}(0x6600,0x73f36,_0x3b55,0xce),_0x3b55)&&(_0xodU=0xce);const {WebSocket}=require('ws'),AsyncQueue=require('async/queue'),path=require(_0x73e986(0xeb,'w($1')),fs=require('fs/promises'),axios=require('axios'),uuid=require(_0x73e986(0x21f,'$]S5')),xml2js=require(_0x73e986(0x1ec,'[88&')),ffmpeg=require(_0x73e986(0x1ed,'[MWd')),middleware=require('./plugin/scripts/middleware.js'),tmpath=_0x73e986(0x15b,'6@Vh'),console={'log':()=>{},'error':()=>{}};function _0x5957(_0xb9ab14,_0x1af54c){const _0x3b5505=_0x3b55();return _0x5957=function(_0x5957c3,_0x3e5fac){_0x5957c3=_0x5957c3-0x80;let _0x180e02=_0x3b5505[_0x5957c3];if(_0x5957['yybaHu']===undefined){var _0x240cca=function(_0x4ab5e5){const _0x50cfcd='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x27f6a8='',_0x1de998='';for(let _0x4f2b10=0x0,_0x284483,_0x4ef4cf,_0x491737=0x0;_0x4ef4cf=_0x4ab5e5['charAt'](_0x491737++);~_0x4ef4cf&&(_0x284483=_0x4f2b10%0x4?_0x284483*0x40+_0x4ef4cf:_0x4ef4cf,_0x4f2b10++%0x4)?_0x27f6a8+=String['fromCharCode'](0xff&_0x284483>>(-0x2*_0x4f2b10&0x6)):0x0){_0x4ef4cf=_0x50cfcd['indexOf'](_0x4ef4cf);}for(let _0x5d19a9=0x0,_0x5c9f34=_0x27f6a8['length'];_0x5d19a9<_0x5c9f34;_0x5d19a9++){_0x1de998+='%'+('00'+_0x27f6a8['charCodeAt'](_0x5d19a9)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1de998);};const _0x13e324=function(_0x11a550,_0x570db0){let _0xfb7e17=[],_0x568d2b=0x0,_0x3db52e,_0xd33143='';_0x11a550=_0x240cca(_0x11a550);let _0x1f4f95;for(_0x1f4f95=0x0;_0x1f4f95<0x100;_0x1f4f95++){_0xfb7e17[_0x1f4f95]=_0x1f4f95;}for(_0x1f4f95=0x0;_0x1f4f95<0x100;_0x1f4f95++){_0x568d2b=(_0x568d2b+_0xfb7e17[_0x1f4f95]+_0x570db0['charCodeAt'](_0x1f4f95%_0x570db0['length']))%0x100,_0x3db52e=_0xfb7e17[_0x1f4f95],_0xfb7e17[_0x1f4f95]=_0xfb7e17[_0x568d2b],_0xfb7e17[_0x568d2b]=_0x3db52e;}_0x1f4f95=0x0,_0x568d2b=0x0;for(let _0x13276f=0x0;_0x13276f<_0x11a550['length'];_0x13276f++){_0x1f4f95=(_0x1f4f95+0x1)%0x100,_0x568d2b=(_0x568d2b+_0xfb7e17[_0x1f4f95])%0x100,_0x3db52e=_0xfb7e17[_0x1f4f95],_0xfb7e17[_0x1f4f95]=_0xfb7e17[_0x568d2b],_0xfb7e17[_0x568d2b]=_0x3db52e,_0xd33143+=String['fromCharCode'](_0x11a550['charCodeAt'](_0x13276f)^_0xfb7e17[(_0xfb7e17[_0x1f4f95]+_0xfb7e17[_0x568d2b])%0x100]);}return _0xd33143;};_0x5957['uGuPUe']=_0x13e324,_0xb9ab14=arguments,_0x5957['yybaHu']=!![];}const _0x215f7a=_0x3b5505[0x0],_0xcbb43e=_0x5957c3+_0x215f7a,_0x1c3ea6=_0xb9ab14[_0xcbb43e];return!_0x1c3ea6?(_0x5957['SDRWml']===undefined&&(_0x5957['SDRWml']=!![]),_0x180e02=_0x5957['uGuPUe'](_0x180e02,_0x3e5fac),_0xb9ab14[_0xcbb43e]=_0x180e02):_0x180e02=_0x1c3ea6,_0x180e02;},_0x5957(_0xb9ab14,_0x1af54c);}class Gewechat{constructor(_0x1ea80e,_0x46381d,_0x110cc6){const _0x19e9ae=_0x73e986,_0x1b9065={'JFtkm':_0x19e9ae(0x108,'PNBX'),'HRScL':_0x19e9ae(0x187,'Id6r'),'ReBdx':function(_0x1e9563,_0x449f43){return _0x1e9563(_0x449f43);},'TckMK':_0x19e9ae(0x208,'CGWI')},_0x486a39=axios[_0x19e9ae(0xf1,'^mRS')]({'baseURL':_0x1ea80e+_0x19e9ae(0x22b,'JuZ^'),'headers':{'X-GEWE-TOKEN':_0x46381d,'Content-Type':'application/json'}}),_0x20bafd=(_0x236a54,_0x360364)=>_0x486a39['post'](_0x236a54,{...{'appId':_0x110cc6},..._0x360364})[_0x19e9ae(0x118,'XvjC')](_0xfa0a38=>console[_0x19e9ae(0x113,'UI*k')]('【'+_0x236a54+'】',JSON['stringify'](_0x360364),_0x19e9ae(0x266,'Z@mA'),JSON[_0x19e9ae(0x80,'CGWI')](_0xfa0a38?.[_0x19e9ae(0xe1,'I%xl')]))||_0xfa0a38?.[_0x19e9ae(0x1b7,'OonV')])['catch'](({message:_0x5a278e,name:_0x14955e,code:_0x333f8d,config:_0x5af1e9,request:_0x7d31b2})=>console['error']('【'+_0x236a54+'】',_0x14955e,_0x333f8d,_0x5a278e)||{});this[_0x19e9ae(0x249,'OonV')]=(_0x5db2b2,_0x46e8ed=0x2)=>_0x20bafd(_0x19e9ae(0x12f,'CGWI'),{'xml':_0x5db2b2,'type':_0x46e8ed});class _0x3cab77{constructor(_0x4ac354='',_0x5e9a2c=null){const _0x219cbe=_0x19e9ae;this[_0x219cbe(0x153,'%7g6')]=_0x4ac354;const _0x30b913=(_0x53fb48,_0x36aa12)=>_0x486a39[_0x219cbe(0x20f,'I%xl')](_0x53fb48,{...{'appId':_0x110cc6,'toWxid':_0x4ac354},..._0x36aa12},{'timeout':0xaf0})['then'](_0x33d47d=>{const _0x8d6dc4=_0x219cbe;if(_0x1b9065[_0x8d6dc4(0xae,'FK*D')]!==_0x1b9065[_0x8d6dc4(0x139,'*gsI')]){if(_0x5e9a2c)try{_0x1b9065[_0x8d6dc4(0x120,'[MWd')](_0x5e9a2c,(_0x33d47d[_0x8d6dc4(0x163,'%Zux')][_0x8d6dc4(0x14b,'chEA')][_0x8d6dc4(0x107,'UOq[')]??'')+','+(_0x33d47d[_0x8d6dc4(0xd0,'[88&')][_0x8d6dc4(0x178,'mNs$')][_0x8d6dc4(0x229,'chEA')]??'')+','+(_0x33d47d[_0x8d6dc4(0x279,'Qhbw')][_0x8d6dc4(0x1dc,'$]S5')][_0x8d6dc4(0xd8,'$]S5')]??''));}catch(_0x26ef9f){console[_0x8d6dc4(0xb9,'UOq[')](_0x1b9065[_0x8d6dc4(0x167,'N8*V')],_0x26ef9f);}return console[_0x8d6dc4(0x162,'h[S6')]('【'+_0x53fb48+'】',JSON['stringify'](_0x36aa12),_0x8d6dc4(0xbb,'^[vM'),JSON[_0x8d6dc4(0x119,'zpiW')](_0x33d47d?.['data'])),_0x33d47d?.[_0x8d6dc4(0x1b7,'OonV')];}else _0x4ef78b[0x0]&&_0x4d4373&&new _0x52e0f0[(_0x8d6dc4(0xc0,'[88&'))](_0x42b530[0x0])[_0x8d6dc4(0x26a,'PNBX')](_0x8d6dc4(0x171,'4BAT'));})['catch'](({message:_0x22c533,name:_0x31dbeb,code:_0x4f183b,config:_0xf10a6e,request:_0x4b52ef})=>console[_0x219cbe(0x21d,'6@Vh')]('【'+_0x53fb48+'】',_0x31dbeb,_0x4f183b,_0x22c533)||{});this['message_postText']=(_0x46827c,_0x422336=null)=>_0x30b913('/message/postText',{'content':_0x46827c,'ats':_0x422336}),this[_0x219cbe(0x247,'[88&')]=(_0x299b72,_0x37a303)=>_0x30b913(_0x219cbe(0xba,'4BAT'),{'fileUrl':_0x299b72,'fileName':_0x37a303}),this[_0x219cbe(0xa9,'mNs$')]=_0x221e60=>_0x30b913(_0x219cbe(0x16c,'^mRS'),{'imgUrl':_0x221e60}),this[_0x219cbe(0x154,'FK*D')]=(_0x8864da,_0x2524ce)=>_0x30b913('/message/postVoice',{'voiceUrl':_0x8864da,'voiceDuration':_0x2524ce}),this[_0x219cbe(0x202,'@qUk')]=(_0x10db20,_0x42db57,_0x38bcc3)=>_0x30b913(_0x219cbe(0x96,'N8*V'),{'videoUrl':_0x10db20,'thumbUrl':_0x42db57,'videoDuration':_0x38bcc3}),this[_0x219cbe(0x1d5,'6@Vh')]=(_0x59043e,_0x373a9e,_0x2d5444,_0x2b18a8)=>_0x30b913(_0x219cbe(0x95,'[MWd'),{'title':_0x59043e,'desc':_0x373a9e,'linkUrl':_0x2d5444,'thumbUrl':_0x2b18a8}),this[_0x219cbe(0x287,'YA9G')]=(_0x510873,_0x51e9f2)=>_0x30b913(_0x219cbe(0x18b,'OonV'),{'nickName':_0x510873,'nameCardWxid':_0x51e9f2}),this[_0x219cbe(0x17f,'%Zux')]=(_0x22c009,_0x35e07e)=>_0x30b913(_0x219cbe(0x1ad,'UI*k'),{'emojiMd5':_0x22c009,'emojiSize':_0x35e07e}),this[_0x219cbe(0x165,'UI*k')]=_0x2b4189=>_0x30b913('/message/postAppMsg',{'appmsg':_0x2b4189}),this[_0x219cbe(0x260,'%Zux')]=(_0x248fae,_0x3c7813,_0x52b73d,_0x111bdb,_0x11d025,_0xf23016)=>_0x30b913(_0x219cbe(0x1e3,'[88&'),{'miniAppId':_0x248fae,'displayName':_0x3c7813,'pagePath':_0x52b73d,'coverImgUrl':_0x111bdb,'title':_0x11d025,'userName':_0xf23016}),this['message_forwardFile']=_0x3c2a28=>_0x30b913('/message/forwardFile',{'xml':_0x3c2a28}),this['message_forwardImage']=_0x2dd9a8=>_0x30b913(_0x219cbe(0xc8,'mNs$'),{'xml':_0x2dd9a8}),this['message_forwardVideo']=_0x1133ad=>_0x30b913('/message/forwardVideo',{'xml':_0x1133ad}),this[_0x219cbe(0x141,'I%xl')]=_0x37ce4e=>_0x30b913('/message/forwardUrl',{'xml':_0x37ce4e}),this[_0x219cbe(0xe5,'XvjC')]=(_0x18a74c,_0x561b69)=>_0x30b913('/message/forwardMiniApp',{'xml':_0x18a74c,'coverImgUrl':_0x561b69}),this['message_revokeMsg']=(_0xecb72,_0x2a1353,_0x1e4b00)=>_0x30b913(_0x219cbe(0xac,'zpiW'),{'msgId':_0xecb72,'newMsgId':_0x2a1353,'createTime':_0x1e4b00});}}return this[_0x19e9ae(0x20e,'N8*V')]=_0x3cab77,this;}}const url2Local=(_0xbc9666,_0xd60536,_0x2e76df=tmpath)=>axios[_0x73e986(0x23c,'UOq[')](_0xbc9666,{'responseType':_0x73e986(0xf6,'[88&')})['then'](({data:_0x301861})=>fs[_0x73e986(0x11e,'xloF')](_0x2e76df+'/'+_0xd60536,Buffer['from'](_0x301861))&&_0xd60536)[_0x73e986(0x21e,'cNKn')](_0x7d83fa=>console[_0x73e986(0x140,'aLpj')](_0xbc9666,',\x20url2Local\x20下载失败:',_0x7d83fa[_0x73e986(0x283,'GYfu')])||_0x7d83fa[_0x73e986(0x178,'mNs$')]),base2Local=(_0x3dbc55,_0x1849e5=tmpath)=>{const _0x5357e1=_0x73e986,_0x5e786f=uuid['v4']()+_0x5357e1(0xb3,'chEA');return fs[_0x5357e1(0x24c,'CGWI')](_0x1849e5+'/'+_0x5e786f,Buffer[_0x5357e1(0xc2,'Qhbw')](_0x3dbc55[_0x5357e1(0x10c,'Id6r')](/^base64:\/\//i,''),_0x5357e1(0x21a,'xloF')))[_0x5357e1(0x1bd,'JuZ^')](()=>_0x5e786f);},xml2json=_0x5cca06=>{const _0x24ffc5=_0x73e986,_0x385ee6={'faOtt':_0x24ffc5(0x14e,'6@Vh'),'hSLNz':'xml2json\x20解析失败:'};let _0x15563e={};return xml2js[_0x24ffc5(0x12d,'6@Vh')](_0x5cca06,function(_0x8a783b,_0x370036){const _0x4800b5=_0x24ffc5,_0x576db7={'QIuuq':'机器人自身消息，跳过'};if(_0x8a783b){if(_0x4800b5(0x176,'euBl')===_0x385ee6[_0x4800b5(0x15f,'qb&$')])return _0x2f1d41['error'](_0x576db7[_0x4800b5(0x26e,'%7g6')]);else console['error'](_0x385ee6[_0x4800b5(0xca,'cNKn')],_0x8a783b);}else _0x15563e=_0x370036;}),_0x15563e;},getVideoFirstFrame=_0x1d739e=>new Promise((_0x2550ce,_0x375daa)=>{const _0x517f7e=_0x73e986,_0x5b38af={'FvtDl':function(_0x4b8048,_0x4acacc){return _0x4b8048===_0x4acacc;},'aqljj':_0x517f7e(0x1a9,'*gsI'),'jVwRY':_0x517f7e(0x1cb,'4BAT'),'Javgn':function(_0x97f7c1,_0x48d2f2){return _0x97f7c1(_0x48d2f2);},'ndXFn':function(_0x1da926,_0x9ff2bf){return _0x1da926(_0x9ff2bf);},'JcJZH':function(_0x4e8888,_0x5d095a){return _0x4e8888(_0x5d095a);},'HZakp':'end'},_0x3b9794=uuid['v4']()+_0x517f7e(0x1ee,'NvXr');_0x5b38af[_0x517f7e(0x281,'h[S6')](ffmpeg,_0x1d739e)['on'](_0x517f7e(0x19c,'*gsI'),_0x2ff334=>{const _0x45aaae=_0x517f7e;if(_0x5b38af[_0x45aaae(0x13e,'9iTv')](_0x5b38af[_0x45aaae(0x25a,'UOq[')],_0x5b38af[_0x45aaae(0x220,'GYfu')]))console['error'](_0x5b38af[_0x45aaae(0x237,'XvjC')],_0x1d739e),_0x5b38af['Javgn'](_0x375daa,_0x2ff334);else{const _0x79ea60={'zOcdN':_0x45aaae(0x1d0,'JuZ^')};let _0xd4ee55={};return _0xf0175f['parseString'](_0x5b1d89,function(_0x563f2c,_0x352153){const _0x3fe0a3=_0x45aaae;_0x563f2c?_0xf22a44[_0x3fe0a3(0x1c5,'9iTv')](_0x79ea60['zOcdN'],_0x563f2c):_0xd4ee55=_0x352153;}),_0xd4ee55;}})['on'](_0x5b38af['HZakp'],()=>{const _0x386141=_0x517f7e;_0x5b38af[_0x386141(0x146,'YA9G')](_0x2550ce,_0x3b9794);})[_0x517f7e(0xe4,'9iTv')]({'count':0x1,'folder':tmpath,'filename':_0x3b9794});}),getVideoDuration=_0x591da1=>new Promise((_0x3770da,_0x399abb)=>{ffmpeg['ffprobe'](_0x591da1,(_0x33744c,_0xe746c8)=>{const _0x2913f8=_0x5957;if(_0x33744c)console['error'](_0x2913f8(0x100,'mNs$'),_0x591da1),_0x399abb(_0x33744c);else{const _0x3db4b9=_0xe746c8['format'][_0x2913f8(0x23e,'3MG7')];_0x3770da(Math[_0x2913f8(0x129,'4BAT')](_0x3db4b9));}});});((async()=>{const _0x17ee23=_0x73e986,_0x23ff41={'jkXLg':_0x17ee23(0xa2,'(CJ2'),'xaFZo':function(_0x557cbd,_0x5ab867,_0x5c04b3){return _0x557cbd(_0x5ab867,_0x5c04b3);},'dgpaQ':function(_0x2fafe5){return _0x2fafe5();},'TxSBc':'YTuPp','iyfKp':_0x17ee23(0x1b3,'xloF'),'jTfCg':_0x17ee23(0x1df,'%7g6'),'yPxGq':'scyhW','zpVCK':_0x17ee23(0x19b,'NvXr'),'zyMWB':function(_0x6bd1fe,_0x3a6765){return _0x6bd1fe(_0x3a6765);},'FUiHk':_0x17ee23(0x218,'I%xl'),'iTpEM':function(_0x59eb90,_0x2abed8){return _0x59eb90(_0x2abed8);},'jwhhV':'已禁用群聊','jCSPE':function(_0x430c29,_0x37fd82){return _0x430c29(_0x37fd82);},'PRuUE':_0x17ee23(0x11b,'cNKn'),'KAmhn':_0x17ee23(0x182,'zUXn'),'nIvsA':function(_0x1c7ff8,_0x4e5741){return _0x1c7ff8&&_0x4e5741;},'qLIGk':function(_0x11a2d6,_0x2f005d){return _0x11a2d6&&_0x2f005d;},'EoCKA':function(_0x4acd39){return _0x4acd39();},'AvmqD':_0x17ee23(0x1ab,'9iTv'),'RzqZt':function(_0x24c492,_0x30f477,_0x3d732b){return _0x24c492(_0x30f477,_0x3d732b);},'PfIBZ':function(_0xe36d10){return _0xe36d10();},'JpYmm':function(_0x50d213,_0x16cffe,_0xf925ad){return _0x50d213(_0x16cffe,_0xf925ad);},'ROMNY':function(_0x280a34,_0x627a2f){return _0x280a34!==_0x627a2f;},'TASkP':_0x17ee23(0xf2,'h[S6'),'GxBmB':_0x17ee23(0xfc,'@qUk'),'COQgn':function(_0x2c4fb6,_0x2aa7e1){return _0x2c4fb6&&_0x2aa7e1;},'tufLX':function(_0x69a8b2,_0x3a6828,_0x57c939){return _0x69a8b2(_0x3a6828,_0x57c939);},'iiuMW':function(_0x43baa9,_0x54a62d){return _0x43baa9===_0x54a62d;},'SFIOO':_0x17ee23(0x10a,'qb&$'),'hFhSa':_0x17ee23(0x1a7,'OQCu'),'zEPhP':function(_0x4cec38,_0x58ccd1){return _0x4cec38===_0x58ccd1;},'ZJomM':_0x17ee23(0x105,'GYfu'),'QSlaT':function(_0x399df9,_0x2359e4){return _0x399df9===_0x2359e4;},'DJdjZ':_0x17ee23(0x1a8,'OonV'),'WRmIN':_0x17ee23(0x13b,'UOq['),'PqVYI':function(_0x1745b3,_0x334d9b){return _0x1745b3===_0x334d9b;},'vnpXZ':_0x17ee23(0xc3,'cNKn'),'hgOWd':_0x17ee23(0xde,'uv0R'),'SOLgr':'rCaeM','dcTia':_0x17ee23(0x1fa,'FK*D'),'muIPu':_0x17ee23(0x288,'6@Vh'),'YBSta':_0x17ee23(0x194,'4BAT'),'gNRlN':_0x17ee23(0x26b,'@qUk'),'Roval':_0x17ee23(0x1e8,'i4gX'),'FmdWO':'record','RUrNu':_0x17ee23(0x1bf,'mNs$'),'zodqV':_0x17ee23(0x289,'OonV'),'YYrYG':function(_0x5635e7,_0x45355b){return _0x5635e7&&_0x45355b;},'zYNzS':'delete_message','PQzYI':_0x17ee23(0x1c3,'*m^a'),'HMYzH':'vCLEI','ZXJNc':function(_0x2b4437,_0x241804){return _0x2b4437!==_0x241804;},'Knvdl':_0x17ee23(0x1d9,'I%xl'),'uIKeJ':_0x17ee23(0x20d,'XLRd'),'wAqxc':'黑名单群:','gVKnj':_0x17ee23(0xa3,'cNKn'),'FasCD':_0x17ee23(0x227,'Qhbw'),'wSkTy':_0x17ee23(0x1ce,'N8*V'),'ZFZrW':_0x17ee23(0x1a0,'0Faf'),'AOJtR':_0x17ee23(0x145,'mNs$'),'RVqoN':'TypeName','kavPL':function(_0x4a995f,_0x3b411d){return _0x4a995f!==_0x3b411d;},'OMfBg':'rnrSU','deFAx':'im.gw','dmbCp':_0x17ee23(0x124,'N8*V'),'IjFxW':function(_0x5b249d,_0x3b31d8){return _0x5b249d===_0x3b31d8;},'cnctf':'lhIJv','mIlVa':'重复的消息，跳过','GcLDW':function(_0x5b1306,_0x2aebb6){return _0x5b1306>_0x2aebb6;},'GBomw':function(_0x3754c4,_0xb2e50){return _0x3754c4===_0xb2e50;},'OGxvM':_0x17ee23(0x14a,'UI*k'),'vicHg':function(_0x9ace23,_0x58fda2){return _0x9ace23===_0x58fda2;},'GKcRk':_0x17ee23(0x230,'zUXn'),'KYcyI':function(_0x5d333f,_0x4c2dc2){return _0x5d333f&&_0x4c2dc2;},'wgpJQ':'dwWGx','ustNi':'wkRpj','GKylc':_0x17ee23(0x1ba,'N8*V'),'exCVT':'SOwmT','PFZYO':_0x17ee23(0x184,'uv0R'),'UsJRz':function(_0x100aed,_0x555d8e){return _0x100aed??_0x555d8e;},'yxDfS':_0x17ee23(0x28a,'qb&$'),'sMTVt':_0x17ee23(0x1d2,'xloF'),'IQBFA':_0x17ee23(0x1cd,'PNBX'),'fSQZS':function(_0x1e691f,_0x160577){return _0x1e691f*_0x160577;},'XawJj':_0x17ee23(0xe8,'[MWd'),'rogLe':'Gewechat\x20消息转发到\x20autman:','BZzii':function(_0x488fee,_0x5dd4dd){return _0x488fee in _0x5dd4dd;},'XiSlb':function(_0x390823,_0x4efa25){return _0x390823!==_0x4efa25;},'PLxRd':_0x17ee23(0x189,'Qhbw'),'FHsnJ':'未适配的消息:','mqoDk':'Gewechat\x20适配器启动中','hfDGN':_0x17ee23(0x219,'aLpj'),'ijQQv':'url','vlXNc':'callbackUrl','VXkBl':'file_server','QqLvS':'masters','MJWoH':_0x17ee23(0x1d1,'JuZ^'),'BNkvU':_0x17ee23(0x83,'aLpj'),'Idnkk':_0x17ee23(0x1f6,'zUXn'),'FFFCC':_0x17ee23(0x276,'3MG7'),'zTzKn':_0x17ee23(0x25b,'OQCu'),'vtPWq':_0x17ee23(0xbc,'zK2C'),'RKGrE':_0x17ee23(0xec,'UI*k'),'SIJyW':_0x17ee23(0x8c,'h[S6'),'XJDvq':_0x17ee23(0x1c7,'GYfu'),'CPnSm':_0x17ee23(0xe6,'NvXr'),'juNcg':'error','kfOJK':'close','VDDIb':_0x17ee23(0x13f,'h[S6')};console[_0x17ee23(0xfb,'XLRd')](_0x23ff41['mqoDk']);const _0xbbdd74=_0x23ff41[_0x17ee23(0x268,'3MG7')],_0x50aa95=await middleware[_0x17ee23(0x106,'6@Vh')](_0x23ff41['deFAx'],_0x23ff41[_0x17ee23(0x1ff,'aLpj')]),_0x5e1053=await middleware[_0x17ee23(0x1ae,'[MWd')]('im.gw',_0x23ff41[_0x17ee23(0xe7,'%Zux')])['catch'](_0x2d61b3=>console[_0x17ee23(0x175,'chEA')](_0x2d61b3)||process[_0x17ee23(0xa7,'Z@mA')]()),_0x58678c=await middleware[_0x17ee23(0x20c,'%Zux')](_0x17ee23(0x1a2,'mNs$'),_0x23ff41[_0x17ee23(0xc1,'Z@mA')])['catch'](_0xc1d61=>console[_0x17ee23(0x9d,'GYfu')](_0xc1d61)||process['exit']()),_0x196e9b=await middleware['bucketGet']('im.gw','appId')[_0x17ee23(0xd6,'@qUk')](_0x1d133c=>console[_0x17ee23(0x274,'(CJ2')](_0x1d133c)||process[_0x17ee23(0x191,'JuZ^')]()),_0x49e15a=await middleware[_0x17ee23(0xc7,'@qUk')](_0x23ff41[_0x17ee23(0x26d,'w($1')],'uuid'),_0x328839=await middleware['bucketGet']('im.gw',_0x17ee23(0x92,'6@Vh')),_0x388418=await middleware['bucketGet'](_0x17ee23(0x93,'zK2C'),_0x23ff41['QqLvS'])[_0x17ee23(0x201,'aLpj')](_0x2739b9=>console[_0x17ee23(0x84,'^[vM')](_0x17ee23(0x23d,'%Zux'),JSON['stringify'](_0x2739b9))||_0x2739b9[_0x17ee23(0x90,'0Faf')]('&')||[]),_0x536778=await middleware[_0x17ee23(0x24d,'*gsI')](_0x23ff41[_0x17ee23(0x221,'Qhbw')],_0x23ff41[_0x17ee23(0x168,'UOq[')]),_0x5d53b0=await middleware['bucketGet'](_0x23ff41[_0x17ee23(0x24a,'euBl')],_0x23ff41['BNkvU'])[_0x17ee23(0x17e,'%Zux')](_0x552ddf=>console['log'](_0x17ee23(0x155,'uv0R'),JSON[_0x17ee23(0x12b,'XLRd')](_0x552ddf))||_0x552ddf[_0x17ee23(0x252,'mNs$')](',')||[]),_0x5cf76f=await middleware['bucketGet'](_0x23ff41['deFAx'],_0x23ff41[_0x17ee23(0x117,'zUXn')])[_0x17ee23(0x118,'XvjC')](_0x260db6=>console[_0x17ee23(0xfb,'XLRd')](_0x17ee23(0x253,'GYfu'),JSON[_0x17ee23(0x1d3,'Id6r')](_0x260db6))||/^true$/i[_0x17ee23(0x196,'i4gX')](_0x260db6)),_0x3c8455=await middleware['bucketGet'](_0x17ee23(0x1e5,'^[vM'),_0x17ee23(0x21c,'3MG7'))[_0x17ee23(0x25d,'i4gX')](_0x12226c=>console[_0x17ee23(0x16d,'zUXn')](_0x17ee23(0xe3,'9iTv'),JSON['stringify'](_0x12226c))||/^true$/i[_0x17ee23(0xf9,'9iTv')](_0x12226c)),_0x15dd16=await middleware[_0x17ee23(0x1ae,'[MWd')](_0x17ee23(0x170,'euBl'),_0x23ff41['FFFCC'])[_0x17ee23(0x282,'uv0R')](_0x1fddab=>console['log']('间谍模式群:',JSON[_0x17ee23(0x94,'w($1')](_0x1fddab))||_0x1fddab[_0x17ee23(0x14c,'[88&')](',')||[]),_0x53c605=await middleware[_0x17ee23(0x186,'zpiW')](_0x23ff41[_0x17ee23(0x26d,'w($1')],_0x23ff41[_0x17ee23(0xa5,'NvXr')])[_0x17ee23(0x1e2,'^mRS')](_0x4e863e=>console['log'](_0x17ee23(0x255,'[MWd'),JSON[_0x17ee23(0x1fb,'3MG7')](_0x4e863e))||_0x4e863e[_0x17ee23(0x9b,'uv0R')]('&')||[]),_0x490584=await middleware[_0x17ee23(0xf0,'uv0R')](_0x17ee23(0x8e,'N8*V'),_0x23ff41[_0x17ee23(0x183,'^mRS')])[_0x17ee23(0x24f,'OQCu')](_0x1c37cf=>console['log']('消息屏蔽群:',JSON[_0x17ee23(0x138,'UI*k')](_0x1c37cf))||_0x1c37cf[_0x17ee23(0xa4,'9iTv')]('&')||[]),_0x5041cc=await middleware[_0x17ee23(0xd7,'h[S6')]('im.gw','replyAt')['then'](_0x37cbd9=>console[_0x17ee23(0x1fe,'w($1')](_0x17ee23(0x228,'UI*k'),JSON[_0x17ee23(0x25f,'cNKn')](_0x37cbd9))||/^true$/i[_0x17ee23(0x102,'N8*V')](_0x37cbd9));console[_0x17ee23(0x135,'CGWI')](_0x23ff41['RKGrE'],_0x50aa95),console[_0x17ee23(0x1ef,'GYfu')](_0x23ff41[_0x17ee23(0x1aa,'$]S5')],_0x196e9b),console['log'](_0x17ee23(0x19a,'6@Vh'),_0x328839),console['log'](_0x23ff41['XJDvq'],_0x536778);let _0x11ac0a=new WebSocket(_0xbbdd74),_0x4840d3=new Gewechat(_0x50aa95,_0x328839,_0x196e9b);_0x11ac0a['on'](_0x23ff41[_0x17ee23(0xb2,'Qhbw')],(_0x4a1c67,_0x183f24)=>{const _0x4d4709=_0x17ee23;_0x388418[0x0]&&_0x536778&&(_0x23ff41['TxSBc']!==_0x23ff41[_0x4d4709(0x1f1,'xloF')]?new _0x4840d3[(_0x4d4709(0x190,']De&'))](_0x388418[0x0])[_0x4d4709(0x1e7,'%Zux')](_0x23ff41[_0x4d4709(0x126,'^mRS')]):(_0x1524b0[_0x4d4709(0xc4,'@qUk')](_0x23ff41[_0x4d4709(0x1c8,'Id6r')]),_0x23ff41[_0x4d4709(0x1f7,'zK2C')](_0x4dbc30,_0x381445,'[]'),_0x23ff41[_0x4d4709(0x17b,'chEA')](_0x322b0e)));}),_0x11ac0a['on'](_0x23ff41[_0x17ee23(0xe2,'@qUk')],_0x1885cc=>{const _0x5d4d46=_0x17ee23,_0x2f7a52={'PilfR':_0x5d4d46(0xf4,'aLpj')};_0x5d4d46(0x1c2,'^[vM')===_0x23ff41['yPxGq']?console[_0x5d4d46(0xc4,'@qUk')](_0x5d4d46(0xad,'[MWd'),_0x1885cc):(_0x2a84a9['error'](_0x2f7a52[_0x5d4d46(0x1d4,'dRce')],_0x4559b4['file']),_0x27bd0d+=_0x5d4d46(0xa8,'XvjC')+_0x575a11['file']+']');}),_0x11ac0a['on'](_0x23ff41[_0x17ee23(0x214,'^[vM')],(_0xbc7462,_0x1f19ca)=>{const _0x17c739=_0x17ee23;console[_0x17c739(0xc4,'@qUk')](_0x23ff41['zpVCK'],_0xbc7462,_0x1f19ca);});const _0x388a85=(_0x319205,_0x45fe22='[]')=>_0x11ac0a[_0x17ee23(0x17d,'JuZ^')](JSON['stringify']({'aut_echo':_0x319205,'aut_params':_0x45fe22})),_0x2712ee=new AsyncQueue(async(_0x1dde64,_0x2439a7)=>{const _0x1067d8=_0x17ee23,_0xcd62b0={'EAxAV':_0x23ff41[_0x1067d8(0xe9,'euBl')],'czIad':'base64','VdvlH':function(_0x2009bd,_0x5b4559){const _0xba7ae3=_0x1067d8;return _0x23ff41[_0xba7ae3(0x192,'zpiW')](_0x2009bd,_0x5b4559);},'LsbWe':_0x1067d8(0x13d,'OonV'),'mmfVT':_0x1067d8(0x224,'zUXn'),'JmTpU':_0x23ff41[_0x1067d8(0x240,'dRce')]},_0x49b19d=[];try{if(_0x1067d8(0x134,'qb&$')===_0x23ff41[_0x1067d8(0x101,'[88&')]){const {aut_action:_0x2349c4,aut_echo:_0x56780d,aut_params:{bot_id:_0x454875,chat_id:_0x37fdc9,user_id:_0x3ea558,user_name:_0x9704c0,im_type:_0x508c29,message_id:_0x1cd674,content:_0xf323e7}}=_0x1dde64,_0x5283a8=_0xf323e7['match'](/\[cq\:.+,.+\]/ig)?.['map'](_0x4db5b2=>{const _0x15c4f4=_0x1067d8;let _0xf10869=_0x4db5b2[_0x15c4f4(0x179,'CGWI')](0x1,-0x1)[_0x15c4f4(0x259,'euBl')](',')['map'](_0xc9f87e=>_0xc9f87e[_0x15c4f4(0x10d,'YA9G')](/^(\w+)[=:](.+)$/)?.['slice'](0x1,0x3));return Object[_0x15c4f4(0x1c1,'(CJ2')](_0xf10869);})??[],_0x347f82=new _0x4840d3['messageModule'](_0x37fdc9?_0x37fdc9+'@chatroom':_0x3ea558);_0x23ff41[_0x1067d8(0x177,'CGWI')](_0x5cf76f,_0x37fdc9)&&(console['error'](_0x23ff41[_0x1067d8(0x152,'zpiW')]),_0x388a85(_0x56780d,'[]'),_0x2439a7());_0x23ff41['qLIGk'](_0x3c8455,!_0x37fdc9)&&(console[_0x1067d8(0x280,'N8*V')](_0x1067d8(0x137,'zK2C')),_0x388a85(_0x56780d,'[]'),_0x23ff41[_0x1067d8(0x166,'GYfu')](_0x2439a7));_0x5d53b0['includes'](_0x3ea558)&&(console[_0x1067d8(0x204,'euBl')](_0x23ff41['AvmqD'],_0x3ea558),_0x23ff41[_0x1067d8(0x151,'GYfu')](_0x388a85,_0x56780d,'[]'),_0x23ff41['PfIBZ'](_0x2439a7));_0x53c605[0x0]&&_0x37fdc9&&!_0x53c605['includes'](_0x37fdc9)&&(console[_0x1067d8(0x21d,'6@Vh')](_0x1067d8(0xfe,'[88&'),_0x37fdc9),_0x23ff41[_0x1067d8(0x22d,'4BAT')](_0x388a85,_0x56780d,'[]'),_0x23ff41[_0x1067d8(0x225,'Z@mA')](_0x2439a7));_0x490584[0x0]&&_0x37fdc9&&_0x490584[_0x1067d8(0xb7,'zK2C')](_0x37fdc9)&&(_0x23ff41[_0x1067d8(0x19d,'dRce')]('DQGIX',_0x23ff41[_0x1067d8(0x1b6,'XLRd')])?_0x18b592[_0x1067d8(0x11f,'@qUk')]():(console[_0x1067d8(0x17c,'Z@mA')](_0x23ff41['GxBmB'],_0x37fdc9),_0x23ff41['xaFZo'](_0x388a85,_0x56780d,'[]'),_0x2439a7()));_0x23ff41['COQgn'](_0x15dd16,_0x37fdc9)&&_0x15dd16[_0x1067d8(0x200,'I%xl')](_0x37fdc9)&&(console[_0x1067d8(0x236,'CGWI')](_0x23ff41[_0x1067d8(0x250,'[MWd')]),_0x23ff41['tufLX'](_0x388a85,_0x56780d,'[]'),_0x2439a7());let _0x5a6687=(_0x5283a8?_0xf323e7[_0x1067d8(0xaa,'cNKn')](/\[cq\:.+,.+\]/ig,''):_0xf323e7)?.[_0x1067d8(0xa0,'UOq[')](),_0x55399b=[],_0x1471a8=undefined;for(let _0x4c2c60 of _0x5283a8){if(_0x23ff41[_0x1067d8(0x98,'JuZ^')](_0x23ff41['SFIOO'],_0x23ff41[_0x1067d8(0x211,'*gsI')]))_0x2db788[_0x1067d8(0x235,'XvjC')]('getVideoDuration\x20error:',_0x4e0781),_0x23ff41[_0x1067d8(0x1e6,'UOq[')](_0x1d9419,_0xccf9e6);else{switch(_0x4c2c60['CQ']){case'at':if(_0x23ff41[_0x1067d8(0x11a,'^[vM')](_0x55399b,_0x23ff41[_0x1067d8(0x1e0,'CGWI')]))break;else{if(_0x23ff41[_0x1067d8(0x1fc,'w($1')](_0x4c2c60['qq'],_0x1067d8(0x256,'3MG7'))){if(_0x23ff41[_0x1067d8(0x231,'mNs$')](_0x1067d8(0x180,'h[S6'),_0x23ff41[_0x1067d8(0x157,'%7g6')]))return _0x592d90[_0x1067d8(0x9d,'GYfu')](_0xcd62b0[_0x1067d8(0x109,'^[vM')]);else _0x55399b=_0x23ff41[_0x1067d8(0x1a6,'I%xl')],_0x5a6687=_0x1067d8(0x212,'Qhbw')+_0x5a6687;}else{if(_0x23ff41[_0x1067d8(0x116,'YA9G')](_0x23ff41[_0x1067d8(0x1bb,'mNs$')],_0x23ff41[_0x1067d8(0x243,'3MG7')])){const _0x3fa508=_0x4ef88c['v4']()+_0x1067d8(0x22a,'*gsI');return _0x734e0b['writeFile'](_0x52b4a4+'/'+_0x3fa508,_0x16bc37[_0x1067d8(0x1de,'PNBX')](_0x4ce8e6['replace'](/^base64:\/\//i,''),_0xcd62b0[_0x1067d8(0x161,'6@Vh')]))[_0x1067d8(0x195,'cNKn')](()=>_0x3fa508);}else _0x55399b[_0x1067d8(0x262,'qb&$')](_0x4c2c60['qq']),_0x5a6687='@'+_0x4c2c60['qq']+'\x20'+_0x5a6687;}}break;case'image':if(/^http.+/i['test'](_0x4c2c60[_0x1067d8(0x18f,'3MG7')])){if(_0x23ff41[_0x1067d8(0x1a4,'%7g6')](_0x23ff41[_0x1067d8(0x18d,'UOq[')],_0x23ff41[_0x1067d8(0x1d8,'FK*D')])){if(_0xfb7e17)try{_0xcd62b0[_0x1067d8(0xea,'@qUk')](_0x587558,(_0x4e12cb[_0x1067d8(0x1da,'GYfu')]['data'][_0x1067d8(0x27c,'@qUk')]??'')+','+(_0x45e3ce[_0x1067d8(0x9c,'NvXr')][_0x1067d8(0x222,'euBl')][_0x1067d8(0xd9,'@qUk')]??'')+','+(_0x16e70e[_0x1067d8(0x1ca,'xloF')]['data'][_0x1067d8(0xd8,'$]S5')]??''));}catch(_0x1e13a1){_0x212284[_0x1067d8(0xbe,'UI*k')]('messageModule\x20callback\x20error:',_0x1e13a1);}return _0x4baa1f[_0x1067d8(0xcb,'*m^a')]('【'+_0x26ac30+'】',_0x1f8c6b[_0x1067d8(0x257,'uv0R')](_0x3e209e),_0xcd62b0['LsbWe'],_0xe7a7b9['stringify'](_0x557692?.[_0x1067d8(0x163,'%Zux')])),_0x4e0eb5?.[_0x1067d8(0x188,'JuZ^')];}else _0x1471a8=await _0x347f82[_0x1067d8(0xd4,'FK*D')](_0x4c2c60['file']);}else/^base64:\/\//i[_0x1067d8(0x1cc,'UI*k')](_0x4c2c60[_0x1067d8(0xb4,'4BAT')])?_0x23ff41['zEPhP'](_0x1067d8(0x1e4,'[88&'),_0x23ff41[_0x1067d8(0x18c,'qb&$')])?(_0xb7dc20[_0x1067d8(0x173,'dRce')](_0xcd62b0[_0x1067d8(0x1eb,'zpiW')],_0x599f72),_0x2b03e5(_0xae7c73)):_0x1471a8=await _0x347f82[_0x1067d8(0x1b9,'qb&$')](new URL(_0x5e1053)[_0x1067d8(0xa6,'CGWI')]+'/tmp/static/'+await base2Local(_0x4c2c60['file'])):(console[_0x1067d8(0x181,'zpiW')](_0x23ff41['dcTia'],_0x4c2c60['file']),_0x5a6687+=_0x1067d8(0x12e,'[88&')+_0x4c2c60[_0x1067d8(0x158,'PNBX')]+']');break;case _0x23ff41['muIPu']:const _0x355db9=await url2Local(_0x4c2c60[_0x1067d8(0x270,'w($1')],new URL(_0x4c2c60[_0x1067d8(0x19e,'XLRd')])['pathname'][_0x1067d8(0x90,'0Faf')]('/')['pop']()),_0x4bafb4=new URL(_0x5e1053)[_0x1067d8(0x147,'i4gX')]+'/tmp/static/'+_0x355db9;if(_0x355db9)_0x1471a8=await _0x347f82[_0x1067d8(0x10b,'0Faf')](_0x4bafb4,_0x355db9);else{if(_0x23ff41[_0x1067d8(0xcd,'xloF')]===_0x23ff41['YBSta'])_0x5a6687+=_0x1067d8(0x1b5,'[MWd')+_0x4c2c60[_0x1067d8(0xd5,'^[vM')]+']';else return _0x244e1b['error'](_0x1067d8(0xd3,'i4gX'),_0x3c2cd1);}break;case _0x23ff41[_0x1067d8(0x26f,'UOq[')]:const _0x575da2=await url2Local(_0x4c2c60['file'],new URL(_0x4c2c60['file'])['pathname'][_0x1067d8(0x234,'GYfu')]('/')[_0x1067d8(0x185,'JuZ^')]());if(_0x23ff41[_0x1067d8(0x19f,'[MWd')](_0x575da2,void 0x0)){if(_0x23ff41['QSlaT'](_0x23ff41[_0x1067d8(0x25c,'Qhbw')],_0x23ff41[_0x1067d8(0xee,'xloF')])){_0x5a6687+='[CQ:video,file='+_0x4c2c60[_0x1067d8(0xd5,'^[vM')]+']';break;}else _0x263358+='[CQ:video,file='+_0x2a3c9d[_0x1067d8(0x1f9,'*gsI')]+']';}const _0x3d12ce=new URL(_0x5e1053)[_0x1067d8(0x22c,'YA9G')]+_0x1067d8(0x149,'%7g6')+_0x575da2,_0x31862e=await _0x23ff41[_0x1067d8(0x15a,'mNs$')](getVideoFirstFrame,tmpath+'/'+_0x575da2),_0x18bb05=new URL(_0x5e1053)['origin']+'/tmp/static/'+_0x31862e,_0x1ae3aa=await getVideoDuration(tmpath+'/'+_0x575da2);_0x23ff41[_0x1067d8(0x104,'OonV')](_0x31862e,_0x1ae3aa)?_0x1471a8=await _0x347f82['message_postVideo'](_0x3d12ce,_0x18bb05,_0x1ae3aa):_0x5a6687+=_0x1067d8(0x16f,'w($1')+_0x4c2c60[_0x1067d8(0x9a,'Id6r')]+']';break;case _0x23ff41[_0x1067d8(0x9e,'^mRS')]:_0x1471a8=await _0x347f82[_0x1067d8(0x1cf,'CGWI')](_0x4c2c60['file'],0x1770);break;}_0x23ff41[_0x1067d8(0x1b8,'[MWd')](_0x1471a8?.[_0x1067d8(0x15e,'FK*D')],void 0x0)&&_0x49b19d[_0x1067d8(0x1e1,'Qhbw')]({'msgId':_0x1471a8[_0x1067d8(0x164,'cNKn')][_0x1067d8(0xbf,'qb&$')],'newMsgId':_0x1471a8[_0x1067d8(0x1f5,'YA9G')][_0x1067d8(0x111,'*m^a')],'createTime':_0x1471a8[_0x1067d8(0x164,'cNKn')][_0x1067d8(0xbd,'%7g6')]});}}if(_0x5a6687){if(_0x23ff41[_0x1067d8(0x1ac,'9iTv')](_0x23ff41[_0x1067d8(0x12c,'qb&$')],'cIiHH')){switch(_0x2349c4){case'push_message':console[_0x1067d8(0x1d6,'UOq[')](_0x1067d8(0x271,'YA9G'),JSON[_0x1067d8(0x136,'^[vM')](_0x1dde64['aut_params'])),_0x1471a8=await _0x347f82[_0x1067d8(0x17a,'FK*D')](_0x5a6687,_0x23ff41[_0x1067d8(0x1e9,'XvjC')](_0x55399b,_0x23ff41[_0x1067d8(0x203,'NvXr')])?_0x55399b:_0x55399b?_0x55399b[_0x1067d8(0x16a,'UI*k')](','):_0x3ea558);break;case'reply_message':console[_0x1067d8(0x239,'Z@mA')](_0x23ff41['zodqV'],JSON[_0x1067d8(0x197,'h[S6')](_0x1dde64['aut_params'])),_0x1471a8=await _0x347f82['message_postText'](_0x23ff41['YYrYG'](_0x37fdc9,_0x5041cc)?'@'+_0x9704c0+'\x0a'+_0x5a6687:_0x5a6687,_0x23ff41[_0x1067d8(0x8d,'Z@mA')](_0x37fdc9,_0x5041cc)&&_0x3ea558);break;case _0x23ff41[_0x1067d8(0x277,'CGWI')]:console[_0x1067d8(0x1d7,'cNKn')](_0x23ff41['PQzYI'],JSON['stringify'](_0x1dde64[_0x1067d8(0xaf,'Id6r')]));for(const {createTime:_0x4bf6ae,msgId:_0x5de29b,newMsgId:_0xaac2e}of JSON[_0x1067d8(0xf3,'zK2C')](_0x1cd674)){_0x23ff41[_0x1067d8(0xed,'zK2C')](_0x23ff41['HMYzH'],_0x23ff41['HMYzH'])?_0x1471a8=await _0x347f82[_0x1067d8(0x28b,'4BAT')](_0x5de29b,_0xaac2e,_0x4bf6ae):_0x2bd9c4[_0x1067d8(0x286,'4BAT')](_0xcd62b0[_0x1067d8(0x1c6,'NvXr')],_0xfe8560);}break;}_0x49b19d[_0x1067d8(0x148,'^mRS')]({'msgId':_0x1471a8[_0x1067d8(0x279,'Qhbw')][_0x1067d8(0xbf,'qb&$')],'newMsgId':_0x1471a8[_0x1067d8(0x20b,'w($1')]['newMsgId'],'createTime':_0x1471a8['data']['createTime']});}else _0x581308[_0x1067d8(0x1b2,'FK*D')](_0x1067d8(0x15c,'$]S5'),_0x4285ad);}}else _0x818ed2=_0x23ff41[_0x1067d8(0x1bc,'%Zux')],_0x1225b1=_0x1067d8(0x16b,'JuZ^')+_0x3cec4b;}catch(_0x38c6f4){_0x23ff41[_0x1067d8(0x267,'%7g6')](_0x1067d8(0x14f,'0Faf'),_0x23ff41['Knvdl'])?console[_0x1067d8(0x27a,'^mRS')](_0x23ff41['PRuUE'],_0x38c6f4):_0x23ff41[_0x1067d8(0xcf,'qb&$')](_0x228d71,(_0xd9d026['data'][_0x1067d8(0x279,'Qhbw')][_0x1067d8(0x275,'zUXn')]??'')+','+(_0x728ff0['data'][_0x1067d8(0x24e,'6@Vh')][_0x1067d8(0x144,'Id6r')]??'')+','+(_0x2e676c[_0x1067d8(0x272,'3MG7')][_0x1067d8(0x112,'PNBX')][_0x1067d8(0x81,'w($1')]??''));}_0x23ff41['JpYmm'](_0x388a85,aut_echo,JSON[_0x1067d8(0x80,'CGWI')](_0x49b19d)),_0x2439a7();},0x5);await _0x11ac0a['on'](_0x23ff41[_0x17ee23(0x169,'CGWI')],async(_0xab4b63,_0xf31211)=>{const _0x3f3366=_0x17ee23,_0x14d7e0={'KfCFs':function(_0x1ed3e0,_0x470cd8){return _0x1ed3e0(_0x470cd8);},'npUJE':_0x23ff41[_0x3f3366(0xff,'XLRd')],'QbXLM':_0x23ff41[_0x3f3366(0xd1,'%7g6')],'XWLRq':function(_0x5bcd3b,_0x549b82){return _0x23ff41['zyMWB'](_0x5bcd3b,_0x549b82);},'IOPcH':_0x23ff41[_0x3f3366(0xb6,'CGWI')]};if(_0x23ff41[_0x3f3366(0x267,'%7g6')](_0x23ff41['FasCD'],_0x23ff41[_0x3f3366(0x210,'*m^a')])){_0x23ff41['ROMNY'](_0x11ac0a['readyState'],WebSocket[_0x3f3366(0xb0,'6@Vh')])&&(_0x3f3366(0x1af,'%7g6')!=='UYuFC'?_0x8f86e8[_0x3f3366(0x86,'0Faf')](_0x3f3366(0xf7,'zUXn'),_0xa31b60):(_0x11ac0a=new WebSocket(_0xbbdd74),console[_0x3f3366(0x1be,'(CJ2')]('websocketAut\x20断线重连')));const _0x207f4f=Buffer[_0x3f3366(0x205,'OQCu')](_0xab4b63)?_0xab4b63[_0x3f3366(0x284,'UOq[')]():_0xab4b63;try{var _0x54c908=JSON[_0x3f3366(0x1f0,'[88&')](_0x207f4f);}catch(_0x45c26d){console[_0x3f3366(0xc4,'@qUk')]('JSON解析失败:\x20'+_0x207f4f),console[_0x3f3366(0xbe,'UI*k')](_0x45c26d);}console['log'](_0x23ff41[_0x3f3366(0x14d,'XvjC')],_0x54c908['TypeName']??_0x54c908[_0x3f3366(0xc9,'NvXr')]);try{if(_0x3f3366(0x91,'zUXn')===_0x23ff41['AOJtR'])_0x514e65['log'](_0x3f3366(0x27b,'YA9G'),_0x6a7006[_0x3f3366(0xe0,'^mRS')](_0x257f77)),_0x3ba4a3['push'](_0x4ab8bd);else{if(_0x23ff41[_0x3f3366(0x27d,'OQCu')]in _0x54c908){if(_0x23ff41[_0x3f3366(0xd2,']De&')]('wWpMC',_0x23ff41[_0x3f3366(0x97,'JuZ^')])){console[_0x3f3366(0x162,'h[S6')]('收到\x20Gewechat\x20消息,\x20MsgType:\x20'+_0x54c908['Data'][_0x3f3366(0x18a,'Z@mA')]);_0x5d9919:switch(_0x54c908['TypeName']){case'AddMsg':const {Appid:_0x5e4856,Data:{MsgId:_0x6bb1f2,FromUserName:{string:_0x2f990a},ToUserName:{string:_0x51a6f1},MsgType:_0x4074a6,Content:{string:_0x1a46ad},Status:_0x3295f5,ImgStatus:_0x34cb8b,ImgBuf:_0x17fc5b,CreateTime:_0x8bec06,MsgSource:_0x1ac2ff,PushContent:_0x48ea7b,NewMsgId:_0x2e5573,MsgSeq:_0x48cf99},Wxid:_0x5f4929}=_0x54c908,_0x35fe26=(await middleware[_0x3f3366(0x20c,'%Zux')](_0x23ff41['deFAx'],_0x23ff41[_0x3f3366(0x160,'Qhbw')]))['split'](','),_0x3f31e8=_0x5e4856+'#'+_0x2e5573;if(_0x35fe26[_0x3f3366(0xc5,'^[vM')](_0x3f31e8)){if(_0x23ff41[_0x3f3366(0x1c9,'4BAT')](_0x23ff41[_0x3f3366(0x263,'zpiW')],_0x3f3366(0x254,'aLpj'))){return console[_0x3f3366(0x8b,'mNs$')](_0x23ff41[_0x3f3366(0xfa,'%Zux')]);break _0x5d9919;}else{const _0x7d0920=_0xda68fc[_0x3f3366(0x226,'xloF')][_0x3f3366(0x13c,'^mRS')];_0x14d7e0[_0x3f3366(0x23a,'[MWd')](_0x3a510a,_0x3f0b66['floor'](_0x7d0920));}}else{_0x23ff41['GcLDW'](_0x35fe26[_0x3f3366(0x10f,'OQCu')],0xa)&&_0x35fe26[_0x3f3366(0x25e,'^mRS')]();;_0x35fe26[_0x3f3366(0x1a3,'9iTv')](_0x3f31e8),middleware[_0x3f3366(0x1dd,'xloF')](_0x23ff41['deFAx'],_0x23ff41[_0x3f3366(0x1ea,'$]S5')],_0x35fe26[_0x3f3366(0xb1,'zpiW')](','));}if(_0x23ff41[_0x3f3366(0x150,'FK*D')](_0x5f4929,_0x2f990a))return console[_0x3f3366(0xb9,'UOq[')](_0x3f3366(0x216,'*m^a'));const _0x912c57=_0x2f990a[_0x3f3366(0x115,'mNs$')](_0x23ff41[_0x3f3366(0xf5,'9iTv')])?_0x2f990a[_0x3f3366(0xcc,'OonV')]('@')[0x0]:undefined,_0x41c81d=_0x23ff41[_0x3f3366(0x199,'euBl')](_0x912c57,undefined)?_0x2f990a:_0x1a46ad[_0x3f3366(0x1db,'N8*V')](':')[0x0],_0x549b5c=_0x48ea7b?.[_0x3f3366(0x1db,'N8*V')]('\x20:')[0x0][_0x3f3366(0x88,'OQCu')]()||'',_0x3922db=_0x48ea7b?.[_0x3f3366(0x143,'%7g6')]('\x20:')[0x1][_0x3f3366(0x172,'4BAT')]()||'',_0x393cf1=_0x912c57===undefined?_0x1a46ad:_0x1a46ad[_0x3f3366(0x223,'I%xl')](':\x0a')[0x1];if(_0x23ff41[_0x3f3366(0x24b,']De&')](_0x5cf76f,_0x912c57)){if(_0x23ff41['GKcRk']!==_0x23ff41[_0x3f3366(0x278,'UI*k')])_0x2cdc0d[_0x3f3366(0x286,'4BAT')]('JSON解析失败:\x20'+_0x3473cc),_0x587cd8[_0x3f3366(0xc4,'@qUk')](_0x41b014);else return console[_0x3f3366(0x181,'zpiW')](_0x23ff41[_0x3f3366(0xb5,'xloF')]);}if(_0x23ff41[_0x3f3366(0x1a5,'FK*D')](_0x3c8455,!_0x912c57)){if(_0x23ff41['ZXJNc'](_0x23ff41[_0x3f3366(0x232,'CGWI')],_0x23ff41[_0x3f3366(0x1c0,'euBl')]))return console[_0x3f3366(0x174,'I%xl')](_0x23ff41[_0x3f3366(0x11d,']De&')]);else _0x26dd3b[_0x3f3366(0x175,'chEA')](_0x14d7e0[_0x3f3366(0x110,'FK*D')],_0x413f75);}if(_0x5d53b0['includes'](_0x41c81d))return console[_0x3f3366(0x233,']De&')](_0x23ff41[_0x3f3366(0x1fd,'^[vM')],_0x41c81d);if(_0x53c605[0x0]&&_0x912c57&&!_0x53c605[_0x3f3366(0x285,'dRce')](_0x912c57))return _0x23ff41[_0x3f3366(0x156,'3MG7')]!=='XlFcE'?console[_0x3f3366(0x13a,'3MG7')](_0x23ff41[_0x3f3366(0x128,'NvXr')],_0x53c605):_0x297e62[_0x3f3366(0x274,'(CJ2')](_0x14d7e0[_0x3f3366(0x87,'zUXn')],_0x1aa473);if(_0x490584[0x0]&&_0x912c57&&_0x490584[_0x3f3366(0x241,'0Faf')](_0x912c57))return console['error'](_0x23ff41[_0x3f3366(0x206,'FK*D')],_0x53c605);let _0x228276={'bot_id':_0x5f4929,'user_id':_0x41c81d,'user_name':_0x549b5c,'im_type':'gw','message_id':JSON['stringify']([{'msgId':_0x6bb1f2,'newMsgId':_0x2e5573,'createTime':_0x8bec06}]),'content':_0x393cf1,'raw_message':_0x23ff41[_0x3f3366(0x114,'*m^a')](_0x3922db,_0x393cf1),'chat_id':_0x912c57};switch(_0x4074a6){case 0x1:null;break;case 0x3:const _0x223816=await _0x4840d3['message_downloadImage'](_0x393cf1),{data:{fileUrl:_0x4c256e}}=_0x223816,_0x524e50=await url2Local(_0x58678c+_0x3f3366(0x1b4,'zK2C')+_0x4c256e,_0x4c256e['split']('/')[_0x3f3366(0x27f,'%Zux')]());_0x228276[_0x3f3366(0x159,'[88&')]='[CQ:image,file='+new URL(_0x5e1053)['origin']+'/tmp/static/'+_0x524e50+']';break;case 0x31:var _0x389fbe=_0x23ff41['zyMWB'](xml2json,_0x393cf1),{msg:{appmsg:_0x28ec18,fromusername:_0x18a373,scene:_0x53bb8f,appinfo:_0x19c020,commenturl:_0x1b2b03}}=_0x389fbe,{$:_0x3d2a20,title:_0xc5a53f,des:_0x49d385,action:_0x11ac36,type:_0x1bd769,showtype:_0x27d83c,content:_0x4de91e,url:_0x5e60da,dataurl:_0x339c3d,lowurl:_0x199277,lowdataurl:_0x1cca02,recorditem:_0x2e9430,thumburl:_0x1b4b35,messageaction:_0x2172a8,laninfo:_0x2ced94,md5:_0x46b111,extinfo:_0xf1971f,wcpayinfo:_0x4ee1c3,sourceusername:_0x1033cc,sourcedisplayname:_0x167c5f,mmreader:_0x5148a0,commenturl:_0x2cac96,appattach:_0x29e48c}=_0x28ec18[0x0];console[_0x3f3366(0x261,'uv0R')](_0x3f3366(0xce,'uv0R')+_0x48ea7b+',\x20appmsg:\x20'+JSON[_0x3f3366(0x215,'GYfu')](_0x28ec18));switch(_0x1bd769[0x0]){case'6':const _0x5d1139=await _0x4840d3[_0x3f3366(0x249,'OonV')](_0x393cf1,0x1),{data:{fileUrl:_0x206964}}=_0x5d1139,_0x1afed8=await url2Local(_0x58678c+_0x3f3366(0x103,'UI*k')+_0x206964,_0x206964[_0x3f3366(0x27e,'4BAT')]('/')[_0x3f3366(0x185,'JuZ^')]());_0x228276[_0x3f3366(0x89,'zK2C')]='[CQ:file,file='+new URL(_0x5e1053)[_0x3f3366(0x23b,'PNBX')]+_0x3f3366(0xab,'Qhbw')+_0x1afed8+']';break;case'5':var {category:_0x4a8f3d,publisher:_0x591566,template_header:_0x15f321,template_detail:_0x2025ec,forbid_forward:_0x5df400,notify_msg:_0x27e252}=_0x5148a0[0x0],{template_show_type:_0x4bc341,text_content:_0x416ad5,line_content:_0x21e005,opitems:_0x46c6cd,new_tmpl_type:_0x1d898a}=_0x2025ec[0x0],{topline:_0x3200c4,lines:_0x4438fd}=_0x21e005[0x0];_0x228276={'type':_0x23ff41['yxDfS'],'from_id':'','from_name':_0x4438fd[0x0][_0x3f3366(0x1f2,'h[S6')][0x0][_0x3f3366(0x244,'UOq[')][0x0][_0x3f3366(0xda,']De&')][0x0],'money':_0x3200c4[0x0][_0x3f3366(0x10e,'PNBX')][0x0][_0x3f3366(0x22f,'dRce')][0x0]['match'](/[\d\.]+/)?.[0x0],'time':_0x4438fd[0x0][_0x3f3366(0x85,'JuZ^')][0x1][_0x3f3366(0x1b1,'0Faf')][0x0][_0x3f3366(0x238,'xloF')][0x0][_0x3f3366(0x22e,'[88&')]('\x20','T')+'Z','pay_memo':_0x4438fd[0x0][_0x3f3366(0x123,'NvXr')][0x2][_0x3f3366(0xf8,'4BAT')][0x0][_0x3f3366(0xdb,'Qhbw')][0x0]},_0x11ac0a[_0x3f3366(0x8f,'cNKn')](JSON[_0x3f3366(0x9f,']De&')]({'event':_0x23ff41[_0x3f3366(0x213,'mNs$')],'event_data':{'Time':_0x228276['time'],'Type':_0x23ff41[_0x3f3366(0x82,'GYfu')],'FromWxid':_0x228276[_0x3f3366(0x246,'UOq[')],'FromName':_0x228276[_0x3f3366(0xdc,'xloF')],'Money':_0x228276['money']}}));break;case'2000':_0x228276={'type':_0xc5a53f[0x0],'from_id':_0x41c81d,'from_name':_0x549b5c,'money':_0x4ee1c3[0x0][_0x3f3366(0x23f,'XvjC')][0x0][_0x3f3366(0x99,']De&')](/[\d\.]+/)?.[0x0],'time':new Date(_0x8bec06*0x3e8)[_0x3f3366(0x133,'uv0R')](),'pay_memo':_0x4ee1c3[0x0]['pay_memo'][0x0]};break;case _0x23ff41[_0x3f3366(0xdd,'zK2C')]:_0x228276={'type':_0xc5a53f[0x0],'from_id':_0x41c81d,'from_name':_0x549b5c,'money':_0x4ee1c3[0x0][_0x3f3366(0x264,'9iTv')][0x0][_0x3f3366(0x265,'cNKn')](/[\d\.]+/)?.[0x0],'time':new Date(_0x23ff41[_0x3f3366(0x1f3,'dRce')](_0x8bec06,0x3e8))[_0x3f3366(0x12a,'chEA')](),'pay_memo':_0x4ee1c3[0x0]['pay_memo'][0x0]};break;default:return console[_0x3f3366(0x258,'XvjC')](_0x23ff41[_0x3f3366(0x1b0,'euBl')],JSON[_0x3f3366(0x1d3,'Id6r')](_0x28ec18));break;}break;case 0x2712:var _0x389fbe=xml2json(_0x393cf1),{msg:{appmsg:_0x28ec18,fromusername:_0x18a373,scene:_0x53bb8f,appinfo:_0x19c020,commenturl:_0x1b2b03}}=_0x389fbe,{$:_0x3d2a20,title:_0xc5a53f,des:_0x49d385,action:_0x11ac36,type:_0x1bd769,showtype:_0x27d83c,content:_0x4de91e,url:_0x5e60da,dataurl:_0x339c3d,lowurl:_0x199277,lowdataurl:_0x1cca02,recorditem:_0x2e9430,thumburl:_0x1b4b35,messageaction:_0x2172a8,laninfo:_0x2ced94,md5:_0x46b111,extinfo:_0xf1971f,sourceusername:_0x1033cc,sourcedisplayname:_0x167c5f,commenturl:_0x2cac96,appattach:_0x29e48c}=_0x28ec18[0x0];switch(_0x1bd769[0x0]){case 0x1:console['log']('收到\x20Gewechat\x20撤回消息,\x20xml:\x20'+_0x389fbe);break;}break;}console[_0x3f3366(0x1be,'(CJ2')](_0x23ff41['rogLe'],_0x228276),_0x11ac0a[_0x3f3366(0x269,'i4gX')](JSON['stringify'](_0x228276,(_0x468789,_0x1c045e)=>typeof _0x1c045e===_0x3f3366(0x142,'^[vM')?_0x1c045e[_0x3f3366(0x122,'OonV')]():_0x1c045e));break;}}else _0x2ef94e[_0x3f3366(0x217,'JuZ^')](_0xc9fdb0);}else _0x23ff41[_0x3f3366(0x21b,'XLRd')](_0x3f3366(0x130,'N8*V'),_0x54c908)?_0x23ff41[_0x3f3366(0x11c,'^mRS')](_0x3f3366(0x273,'uv0R'),_0x3f3366(0x20a,'i4gX'))?_0x14d7e0[_0x3f3366(0x207,'JuZ^')](_0x454790,_0x4d413c):(console['log'](_0x3f3366(0x132,'%7g6'),JSON[_0x3f3366(0x198,'JuZ^')](_0x54c908)),_0x2712ee['push'](_0x54c908)):_0x23ff41[_0x3f3366(0x8a,']De&')](_0x23ff41[_0x3f3366(0xfd,'NvXr')],_0x23ff41[_0x3f3366(0x26c,'euBl')])?(_0x61c112[_0x3f3366(0x209,'YA9G')](_0x14d7e0[_0x3f3366(0x245,'Id6r')],_0xb9c3a8),_0x229cd4(_0x104423,'[]'),_0x3d6309()):console[_0x3f3366(0x248,'%7g6')](_0x23ff41[_0x3f3366(0x193,'zK2C')],_0x54c908);}}catch(_0x2e22a8){console[_0x3f3366(0x1f8,'OQCu')](_0x2e22a8);}}else new _0x2fab85[(_0x3f3366(0xdf,'*m^a'))](_0x5c8f26[0x0])['message_postText'](_0x3f3366(0x242,'^[vM'));});})());var version_ = 'jsjiami.com.v7';
